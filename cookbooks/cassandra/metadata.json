{
  "name": "cassandra",
  "description": "Installs/Configures cassandra",
  "long_description": "D#escription\n===========\n\nThis cookbook will install and configure a Cassandra ring.\nMore info about Cassandra can be found at http://cassandra.apache.org\n\n\nRequirements\n============\n\nRequires the [apt](http://community.opscode.com/cookbooks/apt) cookbook from http://community.opscode.com\n\n\nAttributes\n==========\n\n* cassandra/version                 Version of Cassandra to install.\n* cassandra/cluster_name            The name of the Cassandra cluster to connect to.\n* cassandra/node_number             The position of this host in the Cassandra ring.\n* cassandra/node_total              The total number of hosts in the Cassandra ring.\n* cassandra/seeds                   Comma separated list of Cassandra hosts which will act as seeds.\n* cassandra/data_file_directories   Directories where Cassandra data files should reside on disk.\n* cassandra/commitlog_directory     Directory where commit logs will be written to.\n* cassandra/saved_caches_directory  Directory where the saved caches will be written to.\n* cassandra/log4j_directory         Directory where logfiles will be written to.\n\n* Many more which are not optional with pre-configured defaults.\n\nUsage\n=====\n\nSet the input cassandra/node_number on each Cassandra instance in the Cassandra ring. Node numbers should range from 1..N.\n\nThe easiest way to configure Cassandra seed hosts is to use Elastic IP's. Allocate the number of EIP's you'd like to use for seed hosts, and populate \na comma separated list of the public DNS EIP values as the cassandra/seeds input. After booting run the cassandra::configure recipe on each node, \nand this will write the proper cassandra.yml config file to the node and restart Cassandra. Nodes should be reconfigured one at a time before moving to\nthe next node. \n\nNote: For easier installation/configuration the cassandra::configure script can be moved from Operational Scripts to Boot Scripts if you are running on AWS and using EIPs. \nSince EIP's are not available on non AWS clouds configuring seed hosts is a bit more cumbersome. Since instance internal IP's are not known before booting, the number of hosts \nwhich are to be used as seed nodes first need to be booted, the cassandra/seeds input then populated with these 10.x private addresses and then the cassandra::configure script run\non subsequent nodes. \n\n\nKnown Issues\n============\n\n* Only tested on a v13 ServerTemplate.\n* This cookbook only installs the 1.1.x series of Cassandra.\n* It has only been tested on Ubuntu 10.04 on AWS, CentOS support will be added very soon.\n* This cookbook does not support resizing the Cassandra ring at this time.\n* This cookbook only supports single Datacenter Cassandra deployments.\n",
  "maintainer": "RightScale Inc.",
  "maintainer_email": "ps@rightscale.com",
  "license": "All rights reserved",
  "platforms": {
  },
  "dependencies": {
    "rightscale": ">= 0.0.0"
  },
  "recommendations": {
  },
  "suggestions": {
  },
  "conflicting": {
  },
  "providing": {
  },
  "replacing": {
  },
  "attributes": {
    "cassandra/version": {
      "description": "Version string of Cassandra to install.",
      "recipes": [
        "cassandra::install"
      ],
      "type": "string",
      "display_name": "version",
      "required": "recommended",
      "default": "1.2.3",
      "choice": [

      ],
      "calculated": false
    },
    "cassandra/cluster_name": {
      "description": "Name of the Cassandra cluster.",
      "recipes": [
        "cassandra::configure"
      ],
      "type": "string",
      "display_name": "cluster_name",
      "required": "required",
      "choice": [

      ],
      "calculated": false
    },
    "cassandra/seeds": {
      "description": "Comma seperated list of seed hosts",
      "recipes": [
        "cassandra::configure"
      ],
      "type": "string",
      "display_name": "seeds",
      "required": "recommended",
      "choice": [

      ],
      "calculated": false
    },
    "cassandra/num_tokens": {
      "description": "Number of tokens assigned to this node",
      "recipes": [
        "cassandra::configure"
      ],
      "type": "string",
      "display_name": "num_tokens",
      "required": "required",
      "choice": [

      ],
      "calculated": false
    },
    "cassandra/data_file_directories": {
      "description": "Directories where Cassandra should store data on disk.",
      "recipes": [
        "cassandra::install",
        "cassandra::configure"
      ],
      "type": "array",
      "display_name": "data_file_directories",
      "required": "required",
      "choice": [

      ],
      "calculated": false
    },
    "cassandra/commitlog_directory": {
      "description": "Directory where commit logs will be written to.",
      "recipes": [
        "cassandra::install",
        "cassandra::configure"
      ],
      "type": "string",
      "display_name": "commitlog_directory",
      "required": "required",
      "choice": [

      ],
      "calculated": false
    },
    "cassandra/saved_caches_directory": {
      "description": "Directory where saved caches will be written to.",
      "recipes": [
        "cassandra::install",
        "cassandra::configure"
      ],
      "type": "string",
      "display_name": "saved_caches_directory",
      "required": "required",
      "choice": [

      ],
      "calculated": false
    },
    "cassandra/log4j_directory": {
      "description": "Directory where the main logfile will be written to",
      "recipes": [
        "cassandra::install"
      ],
      "type": "string",
      "display_name": "log4j_directory",
      "required": "required",
      "choice": [

      ],
      "calculated": false
    }
  },
  "groupings": {
  },
  "recipes": {
    "cassandra::install": "Add the Apache Cassandra repo and install software.",
    "cassandra::configure": "Install Cassandra config files from Chef templates."
  },
  "version": "1.2.1"
}